<h3>Users</h3>
<div class="span8">

<div class="well">
<%= simple_form_for '', :url => users_path, :method => :get, :html => { :class => "form-inline", :role => "form" } do |f| %>
  <%= f.input :name, :label => false, :wrapper_html => {:class=> "col-md-3"}, input_html: { value: params[:name], :placeholder => "Name"}, :required => false %>
  <%= f.input :email, :label => false, :wrapper_html => {:class=> "col-md-3"}, input_html: { value: params[:email], :placeholder => "Email"},  :required => false %>
  <%= f.button :submit, 'Search', :class => "btn btn-primary" %>
<p><br>
Showing <%= @users.count %> records
</p>

</div>

<%end%>

<%= will_paginate @applications, renderer: BootstrapPagination::Rails %>

<table class="table table-condensed">
  <thead>
    <tr>
      <th><%= link_to "Name", :order => (params[:order] == 'name_asc' ? 'name_desc' : "name_asc") %></th>
      <th>Email</th>
      <th><%= link_to "Registered", :order => (params[:order] == 'registered_desc' ? 'registered_asc' : "registered_desc") %></th>
      <th>Role</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
  <% @users.each do |user| %>
    <tr>
      <td><%= link_to user.name, user %></td>
      <td><%= user.email %></td>
      <td><%= user.created_at.to_date %></td>
      <td><%= user.roles.first.name.titleize unless user.roles.first.nil? %></td>
      <td>
        <a data-toggle="modal" href="#role-options-<%= user.id %>" class="btn btn-mini" type="button">Change role</a>
        <%= render user %>
      </td>
      <td><%= link_to("Delete user", user_path(user), :data => { :confirm => "Are you sure?" }, :method => :delete, :class => 'btn btn-mini') unless user == current_user %></td>
    </tr>
  <% end %>
  </tbody>
</table>
<%= will_paginate @applications, renderer: BootstrapPagination::Rails %>

</div>
